<UserControl x:Class="Orbit.Views.ToolsOverviewView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
             xmlns:Controls="http://metro.mahapps.com/winfx/xaml/controls"
             mc:Ignorable="d"
             d:DesignHeight="800" d:DesignWidth="1000">

    <Grid Margin="24">
        <ScrollViewer VerticalScrollBarVisibility="Auto"
                     HorizontalScrollBarVisibility="Disabled">
            <StackPanel>
                <!-- Header -->
                <Border Style="{StaticResource Orbit.ToolHeader}"
                       Margin="0,0,0,24">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <Border Style="{StaticResource Orbit.ToolHeaderIcon}">
                            <iconPacks:PackIconMaterial Kind="Tools"
                                                       Width="28"
                                                       Height="28"
                                                       Foreground="White" />
                        </Border>

                        <StackPanel Grid.Column="1" Margin="20,0,0,0" VerticalAlignment="Center">
                            <TextBlock Text="Tools Management"
                                      FontSize="26"
                                      FontWeight="Bold"
                                      Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}" />
                            <TextBlock Text="Manage Orbit tools and their visibility in the floating menu"
                                      FontSize="13"
                                      Foreground="{DynamicResource MahApps.Brushes.Gray2}"
                                      Margin="0,4,0,0" />
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Tools Grid -->
                <Border Style="{StaticResource Orbit.ToolCard}">
                    <StackPanel>
                        <TextBlock Text="Registered Tools"
                                  FontSize="18"
                                  FontWeight="SemiBold"
                                  Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}"
                                  Margin="0,0,0,16" />

                        <TextBlock Text="Control which tools appear in the floating menu. All tools remain accessible via direct navigation."
                                  FontSize="12"
                                  Foreground="{DynamicResource MahApps.Brushes.Gray2}"
                                  TextWrapping="Wrap"
                                  Margin="0,0,0,20" />

                        <!-- Tools List -->
                        <ItemsControl ItemsSource="{Binding Tools}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Margin="0,0,0,12"
                                           Padding="20"
                                           Background="{DynamicResource MahApps.Brushes.Gray9}"
                                           BorderBrush="{DynamicResource MahApps.Brushes.Gray6}"
                                           BorderThickness="1"
                                           CornerRadius="8">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>

                                            <!-- Icon -->
                                            <Border Grid.Column="0"
                                                   Width="48"
                                                   Height="48"
                                                   Background="{DynamicResource MahApps.Brushes.Accent}"
                                                   CornerRadius="8"
                                                   VerticalAlignment="Top">
                                                <iconPacks:PackIconMaterial Kind="{Binding Icon, Mode=OneWay}"
                                                                           Width="28"
                                                                           Height="28"
                                                                           Margin="0,2,0,0"
                                                                           HorizontalAlignment="Center"
                                                                           VerticalAlignment="Center"
                                                                           Foreground="White" />
                                            </Border>

                                            <!-- Tool Info -->
                                            <StackPanel Grid.Column="1" Margin="16,0,16,0" VerticalAlignment="Center">
                                                <TextBlock Text="{Binding DisplayName, Mode=OneWay}"
                                                          FontSize="16"
                                                          FontWeight="SemiBold"
                                                          Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}" />
                                                <TextBlock Text="{Binding Description, Mode=OneWay}"
                                                          FontSize="12"
                                                          Foreground="{DynamicResource MahApps.Brushes.Gray2}"
                                                          TextWrapping="Wrap"
                                                          Margin="0,4,0,0" />
                                                <TextBlock FontSize="11"
                                                          Foreground="{DynamicResource MahApps.Brushes.Gray4}"
                                                          Margin="0,6,0,0">
                                                    <Run Text="Key:" />
                                                    <Run Text="{Binding Key, Mode=OneWay}" FontFamily="Consolas" />
                                                </TextBlock>
                                            </StackPanel>

                                            <!-- Visibility Toggle -->
                                            <Controls:ToggleSwitch Grid.Column="2"
                                                                  Header="Show in menu"
                                                                  IsOn="{Binding IsVisibleInMenu, Mode=TwoWay}"
                                                                  VerticalAlignment="Center"
                                                                  OnContent=""
                                                                  OffContent="" />
                                        </Grid>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </Border>

                <!-- Info Card -->
                <Border Style="{StaticResource Orbit.ToolCard}"
                       Margin="0,16,0,0"
                       Background="{DynamicResource MahApps.Brushes.Accent}"
                       BorderBrush="{DynamicResource MahApps.Brushes.Accent2}">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                            <iconPacks:PackIconMaterial Kind="InformationOutline"
                                                       Width="20"
                                                       Height="20"
                                                       Foreground="White"
                                                       VerticalAlignment="Center" />
                            <TextBlock Text="About Tools"
                                      FontSize="16"
                                      FontWeight="SemiBold"
                                      Foreground="White"
                                      Margin="12,0,0,0"
                                      VerticalAlignment="Center" />
                        </StackPanel>

                        <TextBlock Foreground="White"
                                  FontSize="13"
                                  TextWrapping="Wrap"
                                  Opacity="0.95">
                            <Run Text="Orbit uses an extensible tool system that allows plugins to be discovered and loaded at runtime. Tools can be:" />
                            <LineBreak /><LineBreak />
                            <Run Text="• " FontWeight="Bold" />
                            <Run Text="Built-in" FontWeight="SemiBold" />
                            <Run Text=" - Core functionality like Session Management, Theme Manager, and API Documentation" />
                            <LineBreak />
                            <Run Text="• " FontWeight="Bold" />
                            <Run Text="External" FontWeight="SemiBold" />
                            <Run Text=" - Third-party tools registered via Dependency Injection" />
                            <LineBreak /><LineBreak />
                            <Run Text="Developers can create custom tools by implementing " />
                            <Run Text="IOrbitTool" FontFamily="Consolas" FontWeight="SemiBold" />
                            <Run Text=" and registering them in App.xaml.cs." />
                        </TextBlock>
                    </StackPanel>
                </Border>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
